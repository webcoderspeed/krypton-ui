---
title: Collapsible
description: An interactive component which expands/collapses a panel.
---

# Collapsible

An interactive component which expands/collapses a panel. Perfect for creating expandable sections, FAQ items, or any content that needs to be shown/hidden.

## Installation

```bash
npm install @radix-ui/react-collapsible
npm install lucide-react
```

## Import

```tsx
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"
```

## Usage

### Basic Example

```tsx
import { useState } from "react"
import { ChevronsUpDown } from "lucide-react"
import { Button } from "@/components/ui/button"
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"

export function CollapsibleDemo() {
  const [isOpen, setIsOpen] = useState(false)

  return (
    <Collapsible
      open={isOpen}
      onOpenChange={setIsOpen}
      className="w-[350px] space-y-2"
    >
      <div className="flex items-center justify-between space-x-4 px-4">
        <h4 className="text-sm font-semibold">
          @peduarte starred 3 repositories
        </h4>
        <CollapsibleTrigger asChild>
          <Button variant="ghost" size="sm" className="w-9 p-0">
            <ChevronsUpDown className="h-4 w-4" />
            <span className="sr-only">Toggle</span>
          </Button>
        </CollapsibleTrigger>
      </div>
      <div className="rounded-md border px-4 py-3 font-mono text-sm">
        @radix-ui/primitives
      </div>
      <CollapsibleContent className="space-y-2">
        <div className="rounded-md border px-4 py-3 font-mono text-sm">
          @radix-ui/colors
        </div>
        <div className="rounded-md border px-4 py-3 font-mono text-sm">
          @stitches/react
        </div>
      </CollapsibleContent>
    </Collapsible>
  )
}
```

### Controlled Example

```tsx
import { useState } from "react"
import { ChevronDown, ChevronRight } from "lucide-react"
import { Button } from "@/components/ui/button"
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"

export function ControlledCollapsible() {
  const [isOpen, setIsOpen] = useState(false)

  return (
    <div className="w-full max-w-md">
      <Collapsible open={isOpen} onOpenChange={setIsOpen}>
        <CollapsibleTrigger asChild>
          <Button
            variant="outline"
            className="flex w-full justify-between p-4"
          >
            <span>Can I use this in my project?</span>
            {isOpen ? (
              <ChevronDown className="h-4 w-4" />
            ) : (
              <ChevronRight className="h-4 w-4" />
            )}
          </Button>
        </CollapsibleTrigger>
        <CollapsibleContent className="px-4 py-3">
          <p className="text-sm text-muted-foreground">
            Yes. Free to use for personal and commercial projects. No attribution
            required.
          </p>
        </CollapsibleContent>
      </Collapsible>
    </div>
  )
}
```

### Uncontrolled Example

```tsx
import { Plus, Minus } from "lucide-react"
import { Button } from "@/components/ui/button"
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"

export function UncontrolledCollapsible() {
  return (
    <Collapsible className="w-full max-w-md">
      <CollapsibleTrigger asChild>
        <Button variant="ghost" className="flex w-full justify-between p-4">
          <span>What is your refund policy?</span>
          <div className="[&[data-state=open]>svg:first-child]:hidden [&[data-state=open]>svg:last-child]:block">
            <Plus className="h-4 w-4" />
            <Minus className="h-4 w-4 hidden" />
          </div>
        </Button>
      </CollapsibleTrigger>
      <CollapsibleContent className="px-4 py-3">
        <p className="text-sm text-muted-foreground">
          If you're unhappy with your purchase for any reason, email us within
          90 days and we'll refund you in full, no questions asked.
        </p>
      </CollapsibleContent>
    </Collapsible>
  )
}
```

### Multiple Collapsibles (FAQ)

```tsx
import { useState } from "react"
import { ChevronDown } from "lucide-react"
import { Button } from "@/components/ui/button"
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"

const faqData = [
  {
    question: "Is it accessible?",
    answer: "Yes. It adheres to the WAI-ARIA design pattern.",
  },
  {
    question: "Is it styled?",
    answer:
      "Yes. It comes with default styles that matches the other components' aesthetic.",
  },
  {
    question: "Is it animated?",
    answer: "Yes. It's animated by default, but you can disable it if you prefer.",
  },
]

export function FAQCollapsible() {
  const [openItems, setOpenItems] = useState<number[]>([])

  const toggleItem = (index: number) => {
    setOpenItems(prev =>
      prev.includes(index)
        ? prev.filter(item => item !== index)
        : [...prev, index]
    )
  }

  return (
    <div className="w-full max-w-2xl space-y-2">
      {faqData.map((item, index) => (
        <Collapsible
          key={index}
          open={openItems.includes(index)}
          onOpenChange={() => toggleItem(index)}
        >
          <CollapsibleTrigger asChild>
            <Button
              variant="outline"
              className="flex w-full justify-between p-4 text-left"
            >
              <span>{item.question}</span>
              <ChevronDown
                className={`h-4 w-4 transition-transform duration-200 ${
                  openItems.includes(index) ? 'rotate-180' : ''
                }`}
              />
            </Button>
          </CollapsibleTrigger>
          <CollapsibleContent className="px-4 py-3">
            <p className="text-sm text-muted-foreground">{item.answer}</p>
          </CollapsibleContent>
        </Collapsible>
      ))}
    </div>
  )
}
```

### With Custom Animation

```tsx
import { useState } from "react"
import { ChevronDown } from "lucide-react"
import { Button } from "@/components/ui/button"
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"

export function AnimatedCollapsible() {
  const [isOpen, setIsOpen] = useState(false)

  return (
    <Collapsible
      open={isOpen}
      onOpenChange={setIsOpen}
      className="w-full max-w-md"
    >
      <CollapsibleTrigger asChild>
        <Button
          variant="outline"
          className="flex w-full justify-between p-4 transition-all duration-200 hover:bg-accent"
        >
          <span>Advanced Settings</span>
          <ChevronDown
            className={`h-4 w-4 transition-transform duration-300 ${
              isOpen ? 'rotate-180' : ''
            }`}
          />
        </Button>
      </CollapsibleTrigger>
      <CollapsibleContent className="data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden">
        <div className="p-4 space-y-4">
          <div className="space-y-2">
            <label className="text-sm font-medium">API Endpoint</label>
            <input
              type="text"
              className="w-full px-3 py-2 border rounded-md"
              placeholder="https://api.example.com"
            />
          </div>
          <div className="space-y-2">
            <label className="text-sm font-medium">Timeout (ms)</label>
            <input
              type="number"
              className="w-full px-3 py-2 border rounded-md"
              placeholder="5000"
            />
          </div>
          <div className="flex items-center space-x-2">
            <input type="checkbox" id="debug" />
            <label htmlFor="debug" className="text-sm">Enable debug mode</label>
          </div>
        </div>
      </CollapsibleContent>
    </Collapsible>
  )
}
```

### Nested Collapsibles

```tsx
import { useState } from "react"
import { ChevronRight, Folder, File } from "lucide-react"
import { Button } from "@/components/ui/button"
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible"

export function NestedCollapsible() {
  const [openFolders, setOpenFolders] = useState<string[]>(['src'])

  const toggleFolder = (folder: string) => {
    setOpenFolders(prev =>
      prev.includes(folder)
        ? prev.filter(f => f !== folder)
        : [...prev, folder]
    )
  }

  return (
    <div className="w-full max-w-md border rounded-lg p-4">
      <div className="space-y-1">
        <Collapsible
          open={openFolders.includes('src')}
          onOpenChange={() => toggleFolder('src')}
        >
          <CollapsibleTrigger asChild>
            <Button variant="ghost" className="w-full justify-start p-2 h-auto">
              <ChevronRight
                className={`h-4 w-4 mr-1 transition-transform ${
                  openFolders.includes('src') ? 'rotate-90' : ''
                }`}
              />
              <Folder className="h-4 w-4 mr-2" />
              src
            </Button>
          </CollapsibleTrigger>
          <CollapsibleContent className="ml-6">
            <Collapsible
              open={openFolders.includes('components')}
              onOpenChange={() => toggleFolder('components')}
            >
              <CollapsibleTrigger asChild>
                <Button variant="ghost" className="w-full justify-start p-2 h-auto">
                  <ChevronRight
                    className={`h-4 w-4 mr-1 transition-transform ${
                      openFolders.includes('components') ? 'rotate-90' : ''
                    }`}
                  />
                  <Folder className="h-4 w-4 mr-2" />
                  components
                </Button>
              </CollapsibleTrigger>
              <CollapsibleContent className="ml-6 space-y-1">
                <div className="flex items-center p-2">
                  <File className="h-4 w-4 mr-2" />
                  Button.tsx
                </div>
                <div className="flex items-center p-2">
                  <File className="h-4 w-4 mr-2" />
                  Input.tsx
                </div>
              </CollapsibleContent>
            </Collapsible>
            <div className="flex items-center p-2">
              <File className="h-4 w-4 mr-2" />
              App.tsx
            </div>
          </CollapsibleContent>
        </Collapsible>
      </div>
    </div>
  )
}
```

## API Reference

### Collapsible

The root container for the collapsible component.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `open` | `boolean` | - | The controlled open state |
| `defaultOpen` | `boolean` | `false` | The default open state (uncontrolled) |
| `onOpenChange` | `(open: boolean) => void` | - | Callback when open state changes |
| `disabled` | `boolean` | `false` | Whether the collapsible is disabled |
| `className` | `string` | - | Additional CSS classes |
| `children` | `ReactNode` | - | The collapsible content |

### CollapsibleTrigger

The button that toggles the collapsible.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `asChild` | `boolean` | `false` | Render as child component |
| `className` | `string` | - | Additional CSS classes |
| `children` | `ReactNode` | - | The trigger content |

**Data Attributes:**
- `data-state`: "open" | "closed"
- `data-disabled`: Present when disabled

### CollapsibleContent

The collapsible content area.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `forceMount` | `boolean` | `false` | Force mount the content |
| `className` | `string` | - | Additional CSS classes |
| `children` | `ReactNode` | - | The content to show/hide |

**Data Attributes:**
- `data-state`: "open" | "closed"

**Default Styles:**
- `overflow-hidden` - Prevents content overflow during animation
- `data-[state=closed]:animate-collapsible-up` - Closing animation
- `data-[state=open]:animate-collapsible-down` - Opening animation

## Features

- **Accessible**: Full keyboard navigation and screen reader support
- **Animated**: Smooth expand/collapse animations
- **Flexible**: Works with any content type
- **Controlled/Uncontrolled**: Support for both usage patterns
- **Customizable**: Easy to style and extend
- **Lightweight**: Built on Radix UI primitives

## Accessibility

- Uses proper ARIA attributes (`aria-expanded`, `aria-controls`)
- Keyboard navigation with Enter and Space keys
- Screen reader announcements for state changes
- Focus management during interactions
- Semantic HTML structure

## Styling

The component uses Tailwind CSS classes and includes:

1. **Animations**: Custom collapsible animations
2. **States**: Visual feedback for open/closed states
3. **Transitions**: Smooth state changes
4. **Responsive**: Works across all screen sizes

### Custom Animations

Add these to your `tailwind.config.js`:

```js
module.exports = {
  theme: {
    extend: {
      keyframes: {
        "collapsible-down": {
          from: { height: 0 },
          to: { height: "var(--radix-collapsible-content-height)" },
        },
        "collapsible-up": {
          from: { height: "var(--radix-collapsible-content-height)" },
          to: { height: 0 },
        },
      },
      animation: {
        "collapsible-down": "collapsible-down 0.2s ease-out",
        "collapsible-up": "collapsible-up 0.2s ease-out",
      },
    },
  },
}
```

## Common Patterns

### Settings Panel

```tsx
function SettingsPanel() {
  const [sections, setSections] = useState({
    general: false,
    privacy: false,
    notifications: true,
  })

  return (
    <div className="space-y-4">
      {Object.entries(sections).map(([key, isOpen]) => (
        <Collapsible
          key={key}
          open={isOpen}
          onOpenChange={(open) => setSections(prev => ({ ...prev, [key]: open }))}
        >
          <CollapsibleTrigger asChild>
            <Button variant="outline" className="w-full justify-between">
              {key.charAt(0).toUpperCase() + key.slice(1)} Settings
              <ChevronDown className={`h-4 w-4 transition-transform ${
                isOpen ? 'rotate-180' : ''
              }`} />
            </Button>
          </CollapsibleTrigger>
          <CollapsibleContent>
            {/* Settings content for each section */}
          </CollapsibleContent>
        </Collapsible>
      ))}
    </div>
  )
}
```

### Sidebar Navigation

```tsx
function SidebarNav() {
  const [expandedSections, setExpandedSections] = useState(['dashboard'])

  const navigation = [
    {
      name: 'Dashboard',
      key: 'dashboard',
      items: ['Overview', 'Analytics', 'Reports'],
    },
    {
      name: 'Users',
      key: 'users',
      items: ['All Users', 'Roles', 'Permissions'],
    },
  ]

  return (
    <nav className="space-y-2">
      {navigation.map((section) => (
        <Collapsible
          key={section.key}
          open={expandedSections.includes(section.key)}
          onOpenChange={(open) => {
            setExpandedSections(prev =>
              open
                ? [...prev, section.key]
                : prev.filter(key => key !== section.key)
            )
          }}
        >
          <CollapsibleTrigger asChild>
            <Button variant="ghost" className="w-full justify-start">
              {section.name}
            </Button>
          </CollapsibleTrigger>
          <CollapsibleContent className="ml-4 space-y-1">
            {section.items.map((item) => (
              <Button
                key={item}
                variant="ghost"
                size="sm"
                className="w-full justify-start"
              >
                {item}
              </Button>
            ))}
          </CollapsibleContent>
        </Collapsible>
      ))}
    </nav>
  )
}
```

## Best Practices

1. **Clear Labels**: Use descriptive trigger text
2. **Visual Indicators**: Include icons to show expand/collapse state
3. **Smooth Animations**: Keep animations fast but smooth (200-300ms)
4. **Keyboard Support**: Ensure all functionality works with keyboard
5. **Loading States**: Handle async content loading gracefully
6. **Mobile Friendly**: Test touch interactions on mobile devices
7. **Performance**: Avoid heavy content in collapsed state
8. **Consistent Behavior**: Maintain consistent expand/collapse patterns

## Troubleshooting

### Content Not Animating

Ensure you have the custom animations in your Tailwind config:

```js
// tailwind.config.js
animation: {
  "collapsible-down": "collapsible-down 0.2s ease-out",
  "collapsible-up": "collapsible-up 0.2s ease-out",
}
```

### Content Overflowing

Add `overflow-hidden` to the CollapsibleContent:

```tsx
<CollapsibleContent className="overflow-hidden">
  {/* content */}
</CollapsibleContent>
```

### State Not Updating

Ensure you're using the `onOpenChange` callback:

```tsx
<Collapsible
  open={isOpen}
  onOpenChange={setIsOpen} // Don't forget this!
>
```