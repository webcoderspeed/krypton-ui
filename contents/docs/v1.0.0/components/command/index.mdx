---
title: Command
description: Fast, composable, unstyled command menu for React.
---

import { CommandDemo, CommandDialogDemo } from "@/components/playground/command"
import { CommandSearch } from "@/components/playground/command/command-search"
import { CommandPalette } from "@/components/playground/command/command-palette"

<CodePreview 
  code={`"use client"

import {
  Calculator,
  Calendar,
  CreditCard,
  Settings,
  Smile,
  User,
} from "lucide-react"

import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from "@/components/ui/command"

export function CommandDemo() {
  return (
    <Command className="rounded-lg border shadow-md md:min-w-[450px]">
      <CommandInput placeholder="Type a command or search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem>
            <Calendar className="mr-2 h-4 w-4" />
            <span>Calendar</span>
          </CommandItem>
          <CommandItem>
            <Smile className="mr-2 h-4 w-4" />
            <span>Search Emoji</span>
          </CommandItem>
          <CommandItem disabled>
            <Calculator className="mr-2 h-4 w-4" />
            <span>Calculator</span>
          </CommandItem>
        </CommandGroup>
        <CommandSeparator />
        <CommandGroup heading="Settings">
          <CommandItem>
            <User className="mr-2 h-4 w-4" />
            <span>Profile</span>
            <CommandShortcut>⌘P</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <CreditCard className="mr-2 h-4 w-4" />
            <span>Billing</span>
            <CommandShortcut>⌘B</CommandShortcut>
          </CommandItem>
          <CommandItem>
            <Settings className="mr-2 h-4 w-4" />
            <span>Settings</span>
            <CommandShortcut>⌘S</CommandShortcut>
          </CommandItem>
        </CommandGroup>
      </CommandList>
    </Command>
  )
}`} 
  language="tsx" 
  preview={<CommandDemo />} 
/>

## Installation

<Tabs defaultValue="cli">

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

```bash
npx krypton-ui@latest add command
```

</TabsContent>

<TabsContent value="manual">

1. Install the following dependencies:

```bash
npm install cmdk
```

2. Copy and paste the following code into your project.

```tsx
// Copy the command component code from your UI library
```

3. Update the import paths to match your project setup.

</TabsContent>

</Tabs>

## Usage

```tsx
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from "@/components/ui/command"
```

```tsx
<Command>
  <CommandInput placeholder="Type a command or search..." />
  <CommandList>
    <CommandEmpty>No results found.</CommandEmpty>
    <CommandGroup heading="Suggestions">
      <CommandItem>
        <span>Calendar</span>
      </CommandItem>
      <CommandItem>
        <span>Search Emoji</span>
      </CommandItem>
      <CommandItem>
        <span>Calculator</span>
      </CommandItem>
    </CommandGroup>
    <CommandSeparator />
    <CommandGroup heading="Settings">
      <CommandItem>
        <span>Profile</span>
        <CommandShortcut>⌘P</CommandShortcut>
      </CommandItem>
      <CommandItem>
        <span>Billing</span>
        <CommandShortcut>⌘B</CommandShortcut>
      </CommandItem>
      <CommandItem>
        <span>Settings</span>
        <CommandShortcut>⌘S</CommandShortcut>
      </CommandItem>
    </CommandGroup>
  </CommandList>
</Command>
```

## Examples

### Dialog

<CodePreview 
  code={`"use client"

import * as React from "react"
import {
  Calculator,
  Calendar,
  CreditCard,
  Settings,
  Smile,
  User,
} from "lucide-react"

import { Button } from "@/components/ui/button"
import {
  CommandDialog,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from "@/components/ui/command"

export function CommandDialogDemo() {
  const [open, setOpen] = React.useState(false)

  React.useEffect(() => {
    const down = (e: KeyboardEvent) => {
      if (e.key === "k" && (e.metaKey || e.ctrlKey)) {
        e.preventDefault()
        setOpen((open) => !open)
      }
    }
    document.addEventListener("keydown", down)
    return () => document.removeEventListener("keydown", down)
  }, [])

  return (
    <>
      <p className="text-sm text-muted-foreground">
        Press{" "}
        <kbd className="pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100">
          <span className="text-xs">⌘</span>K
        </kbd>
      </p>
      <CommandDialog open={open} onOpenChange={setOpen}>
        <CommandInput placeholder="Type a command or search..." />
        <CommandList>
          <CommandEmpty>No results found.</CommandEmpty>
          <CommandGroup heading="Suggestions">
            <CommandItem>
              <Calendar className="mr-2 h-4 w-4" />
              <span>Calendar</span>
            </CommandItem>
            <CommandItem>
              <Smile className="mr-2 h-4 w-4" />
              <span>Search Emoji</span>
            </CommandItem>
            <CommandItem>
              <Calculator className="mr-2 h-4 w-4" />
              <span>Calculator</span>
            </CommandItem>
          </CommandGroup>
          <CommandSeparator />
          <CommandGroup heading="Settings">
            <CommandItem>
              <User className="mr-2 h-4 w-4" />
              <span>Profile</span>
              <CommandShortcut>⌘P</CommandShortcut>
            </CommandItem>
            <CommandItem>
              <CreditCard className="mr-2 h-4 w-4" />
              <span>Billing</span>
              <CommandShortcut>⌘B</CommandShortcut>
            </CommandItem>
            <CommandItem>
              <Settings className="mr-2 h-4 w-4" />
              <span>Settings</span>
              <CommandShortcut>⌘S</CommandShortcut>
            </CommandItem>
          </CommandGroup>
        </CommandList>
      </CommandDialog>
    </>
  )
}`} 
  language="tsx" 
  preview={<CommandDialogDemo />} 
/>

To show the command menu in a dialog, use the `<CommandDialog />` component.

```tsx
import { CommandDialog } from "@/components/ui/command"

export function CommandDialogDemo() {
  const [open, setOpen] = React.useState(false)

  React.useEffect(() => {
    const down = (e: KeyboardEvent) => {
      if (e.key === "k" && (e.metaKey || e.ctrlKey)) {
        e.preventDefault()
        setOpen((open) => !open)
      }
    }
    document.addEventListener("keydown", down)
    return () => document.removeEventListener("keydown", down)
  }, [])

  return (
    <CommandDialog open={open} onOpenChange={setOpen}>
      <CommandInput placeholder="Type a command or search..." />
      <CommandList>
        <CommandEmpty>No results found.</CommandEmpty>
        <CommandGroup heading="Suggestions">
          <CommandItem>
            <span>Calendar</span>
          </CommandItem>
        </CommandGroup>
      </CommandList>
    </CommandDialog>
  )
}
```

### Search

<CodePreview 
  code={`"use client"

import React, { useState } from "react"
import {
  File,
  Folder,
  Search,
  Star,
  Clock,
  User,
  Hash,
} from "lucide-react"
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card"
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
} from "@/components/ui/command"

const searchData = {
  files: [
    { name: "package.json", type: "file", path: "/package.json" },
    { name: "README.md", type: "file", path: "/README.md" },
    { name: "src", type: "folder", path: "/src" },
    { name: "components", type: "folder", path: "/src/components" },
    { name: "utils", type: "folder", path: "/src/utils" },
    { name: "App.tsx", type: "file", path: "/src/App.tsx" },
    { name: "index.ts", type: "file", path: "/src/index.ts" },
    { name: "Button.tsx", type: "file", path: "/src/components/Button.tsx" },
    { name: "Input.tsx", type: "file", path: "/src/components/Input.tsx" },
    { name: "helpers.ts", type: "file", path: "/src/utils/helpers.ts" },
  ],
  recent: [
    { name: "App.tsx", type: "file", path: "/src/App.tsx" },
    { name: "Button.tsx", type: "file", path: "/src/components/Button.tsx" },
    { name: "package.json", type: "file", path: "/package.json" },
  ],
  starred: [
    { name: "README.md", type: "file", path: "/README.md" },
    { name: "components", type: "folder", path: "/src/components" },
  ],
  people: [
    { name: "John Doe", email: "john@example.com", role: "Developer" },
    { name: "Jane Smith", email: "jane@example.com", role: "Designer" },
    { name: "Bob Johnson", email: "bob@example.com", role: "Manager" },
    { name: "Alice Brown", email: "alice@example.com", role: "Developer" },
  ],
  channels: [
    { name: "general", description: "General discussion" },
    { name: "development", description: "Development updates" },
    { name: "design", description: "Design discussions" },
    { name: "random", description: "Random conversations" },
  ]
}

export function CommandSearch() {
  const [searchValue, setSearchValue] = useState("")

  const filteredFiles = searchData.files.filter(item =>
    item.name.toLowerCase().includes(searchValue.toLowerCase()) ||
    item.path.toLowerCase().includes(searchValue.toLowerCase())
  )

  const filteredPeople = searchData.people.filter(person =>
    person.name.toLowerCase().includes(searchValue.toLowerCase()) ||
    person.email.toLowerCase().includes(searchValue.toLowerCase()) ||
    person.role.toLowerCase().includes(searchValue.toLowerCase())
  )

  const filteredChannels = searchData.channels.filter(channel =>
    channel.name.toLowerCase().includes(searchValue.toLowerCase()) ||
    channel.description.toLowerCase().includes(searchValue.toLowerCase())
  )

  return (
    <Card className="w-full max-w-lg">
      <CardHeader>
        <CardTitle>Search Command</CardTitle>
        <CardDescription>
          Dynamic search across files, people, and channels with real-time filtering.
        </CardDescription>
      </CardHeader>
      <CardContent>
        <Command className="rounded-lg border shadow-md">
          <CommandInput 
            placeholder="Search files, people, channels..." 
            value={searchValue}
            onValueChange={setSearchValue}
          />
          <CommandList>
            <CommandEmpty>No results found.</CommandEmpty>
            
            {!searchValue && (
              <>
                <CommandGroup heading="Recent">
                  {searchData.recent.map((item, index) => (
                    <CommandItem key={`recent-${index}`}>
                      <Clock className="mr-2 h-4 w-4 text-muted-foreground" />
                      {item.type === "file" ? (
                        <File className="mr-2 h-4 w-4" />
                      ) : (
                        <Folder className="mr-2 h-4 w-4" />
                      )}
                      <div className="flex flex-col">
                        <span>{item.name}</span>
                        <span className="text-xs text-muted-foreground">{item.path}</span>
                      </div>
                    </CommandItem>
                  ))}
                </CommandGroup>
                
                <CommandGroup heading="Starred">
                  {searchData.starred.map((item, index) => (
                    <CommandItem key={`starred-${index}`}>
                      <Star className="mr-2 h-4 w-4 text-yellow-500" />
                      {item.type === "file" ? (
                        <File className="mr-2 h-4 w-4" />
                      ) : (
                        <Folder className="mr-2 h-4 w-4" />
                      )}
                      <div className="flex flex-col">
                        <span>{item.name}</span>
                        <span className="text-xs text-muted-foreground">{item.path}</span>
                      </div>
                    </CommandItem>
                  ))}
                </CommandGroup>
              </>
            )}
            
            {searchValue && filteredFiles.length > 0 && (
              <CommandGroup heading="Files">
                {filteredFiles.slice(0, 5).map((item, index) => (
                  <CommandItem key={`file-${index}`}>
                    {item.type === "file" ? (
                      <File className="mr-2 h-4 w-4" />
                    ) : (
                      <Folder className="mr-2 h-4 w-4" />
                    )}
                    <div className="flex flex-col">
                      <span>{item.name}</span>
                      <span className="text-xs text-muted-foreground">{item.path}</span>
                    </div>
                  </CommandItem>
                ))}
              </CommandGroup>
            )}
            
            {searchValue && filteredPeople.length > 0 && (
              <CommandGroup heading="People">
                {filteredPeople.slice(0, 3).map((person, index) => (
                  <CommandItem key={`person-${index}`}>
                    <User className="mr-2 h-4 w-4" />
                    <div className="flex flex-col">
                      <span>{person.name}</span>
                      <span className="text-xs text-muted-foreground">
                        {person.email} • {person.role}
                      </span>
                    </div>
                  </CommandItem>
                ))}
              </CommandGroup>
            )}
            
            {searchValue && filteredChannels.length > 0 && (
              <CommandGroup heading="Channels">
                {filteredChannels.map((channel, index) => (
                  <CommandItem key={`channel-${index}`}>
                    <Hash className="mr-2 h-4 w-4" />
                    <div className="flex flex-col">
                      <span>#{channel.name}</span>
                      <span className="text-xs text-muted-foreground">{channel.description}</span>
                    </div>
                  </CommandItem>
                ))}
              </CommandGroup>
            )}
          </CommandList>
        </Command>
      </CardContent>
    </Card>
  )
}`}
  preview={<CommandSearch />}
/>

You can use the command component to build a search interface with dynamic filtering.

### Command Palette

<CodePreview 
  code={`"use client"

import React, { useState } from "react"
import {
  Settings,
  User,
  LogOut,
  Moon,
  Sun,
  Bell,
  Search,
  Plus,
  FileText,
  Folder,
  Download,
  Upload,
  Copy,
  Trash2,
  Edit,
  Share,
} from "lucide-react"
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from "@/components/ui/command"
import {
  Dialog,
  DialogContent,
  DialogTrigger,
} from "@/components/ui/dialog"

const actions = {
  general: [
    {
      icon: Search,
      label: "Search files",
      shortcut: "⌘F",
      action: () => console.log("Search files")
    },
    {
      icon: Plus,
      label: "Create new file",
      shortcut: "⌘N",
      action: () => console.log("Create new file")
    },
    {
      icon: Folder,
      label: "Create new folder",
      shortcut: "⌘⇧N",
      action: () => console.log("Create new folder")
    },
    {
      icon: Download,
      label: "Download",
      shortcut: "⌘D",
      action: () => console.log("Download")
    },
    {
      icon: Upload,
      label: "Upload",
      shortcut: "⌘U",
      action: () => console.log("Upload")
    },
  ],
  edit: [
    {
      icon: Copy,
      label: "Copy",
      shortcut: "⌘C",
      action: () => console.log("Copy")
    },
    {
      icon: Edit,
      label: "Rename",
      shortcut: "F2",
      action: () => console.log("Rename")
    },
    {
      icon: Trash2,
      label: "Delete",
      shortcut: "⌫",
      action: () => console.log("Delete")
    },
    {
      icon: Share,
      label: "Share",
      shortcut: "⌘⇧S",
      action: () => console.log("Share")
    },
  ],
  settings: [
    {
      icon: Settings,
      label: "Settings",
      shortcut: "⌘,",
      action: () => console.log("Settings")
    },
    {
      icon: User,
      label: "Profile",
      shortcut: "⌘P",
      action: () => console.log("Profile")
    },
    {
      icon: Bell,
      label: "Notifications",
      shortcut: "⌘⇧N",
      action: () => console.log("Notifications")
    },
    {
      icon: Moon,
      label: "Toggle theme",
      shortcut: "⌘T",
      action: () => console.log("Toggle theme")
    },
    {
      icon: LogOut,
      label: "Sign out",
      shortcut: "⌘⇧Q",
      action: () => console.log("Sign out")
    },
  ]
}

export function CommandPalette() {
  const [open, setOpen] = useState(false)
  const [searchValue, setSearchValue] = useState("")

  const handleAction = (action: () => void) => {
    action()
    setOpen(false)
    setSearchValue("")
  }

  const filteredActions = Object.entries(actions).reduce((acc, [category, items]) => {
    const filtered = items.filter(item =>
      item.label.toLowerCase().includes(searchValue.toLowerCase())
    )
    if (filtered.length > 0) {
      acc[category] = filtered
    }
    return acc
  }, {} as Record<string, typeof actions.general>)

  return (
    <Card className="w-full max-w-lg">
      <CardHeader>
        <CardTitle>Command Palette</CardTitle>
        <CardDescription>
          A command palette with actions, shortcuts, and categories. Press ⌘K to open.
        </CardDescription>
      </CardHeader>
      <CardContent>
        <Dialog open={open} onOpenChange={setOpen}>
          <DialogTrigger asChild>
            <Button variant="outline" className="w-full justify-start text-muted-foreground">
              <Search className="mr-2 h-4 w-4" />
              Search commands...
              <kbd className="pointer-events-none ml-auto inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100">
                <span className="text-xs">⌘</span>K
              </kbd>
            </Button>
          </DialogTrigger>
          <DialogContent className="p-0">
            <Command className="rounded-lg border-0 shadow-md">
              <CommandInput 
                placeholder="Type a command or search..." 
                value={searchValue}
                onValueChange={setSearchValue}
              />
              <CommandList>
                <CommandEmpty>No results found.</CommandEmpty>
                
                {Object.entries(filteredActions).map(([category, items], categoryIndex) => (
                  <React.Fragment key={category}>
                    {categoryIndex > 0 && <CommandSeparator />}
                    <CommandGroup heading={category.charAt(0).toUpperCase() + category.slice(1)}>
                      {items.map((item, index) => {
                        const Icon = item.icon
                        return (
                          <CommandItem
                            key={`${category}-${index}`}
                            onSelect={() => handleAction(item.action)}
                          >
                            <Icon className="mr-2 h-4 w-4" />
                            <span>{item.label}</span>
                            <CommandShortcut>{item.shortcut}</CommandShortcut>
                          </CommandItem>
                        )
                      })}
                    </CommandGroup>
                  </React.Fragment>
                ))}
              </CommandList>
            </Command>
          </DialogContent>
        </Dialog>
        
        <div className="mt-4 space-y-2">
          <h4 className="text-sm font-medium">Quick Actions</h4>
          <div className="grid grid-cols-2 gap-2">
            <Button 
              variant="outline" 
              size="sm" 
              onClick={() => actions.general[0].action()}
              className="justify-start"
            >
              <Search className="mr-2 h-4 w-4" />
              Search
            </Button>
            <Button 
              variant="outline" 
              size="sm" 
              onClick={() => actions.general[1].action()}
              className="justify-start"
            >
              <Plus className="mr-2 h-4 w-4" />
              New File
            </Button>
            <Button 
              variant="outline" 
              size="sm" 
              onClick={() => actions.settings[0].action()}
              className="justify-start"
            >
              <Settings className="mr-2 h-4 w-4" />
              Settings
            </Button>
            <Button 
              variant="outline" 
              size="sm" 
              onClick={() => actions.settings[3].action()}
              className="justify-start"
            >
              <Moon className="mr-2 h-4 w-4" />
              Theme
            </Button>
          </div>
        </div>
      </CardContent>
    </Card>
  )
}`}
  preview={<CommandPalette />}
/>

A more complex example showing a command palette with actions, shortcuts, and categories.

## API Reference

### Command

Contains all the parts of a command menu.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| value | string | - | Optional controlled state of the selected command menu item. |
| onValueChange | function | - | Event handler called when the selected item of the command menu changes. |
| filter | function | - | Custom filter function for filtering items. |
| shouldFilter | boolean | true | Whether to filter items or not. |
| loop | boolean | false | Whether to loop through items when navigating with arrow keys. |

### CommandInput

A search input for the command menu.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| value | string | - | Optional controlled state of the command input. |
| onValueChange | function | - | Event handler called when the input value changes. |

### CommandList

Contains command menu items and groups. Automatically scrolls when necessary.

### CommandEmpty

Displayed when no results are found for the search query.

### CommandGroup

A group of command menu items. Groups are useful for organizing related items.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| heading | string | - | Optional heading to describe the group. |

### CommandItem

A command menu item.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| value | string | - | A unique value for the item. |
| onSelect | function | - | Event handler called when the item is selected. |
| disabled | boolean | false | Whether the item is disabled. |

### CommandShortcut

A visual hint that shows a keyboard shortcut.

### CommandSeparator

A visual separator between command menu items or groups.

### CommandDialog

A command menu displayed in a dialog.

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| open | boolean | - | The controlled open state of the dialog. |
| onOpenChange | function | - | Event handler called when the open state changes. |

## Data Attributes

### Command

- `data-state`: "open" | "closed"

### CommandItem

- `data-selected`: Present when selected
- `data-disabled`: Present when disabled

## Accessibility

### Keyboard Interactions

| Key | Description |
|-----|-------------|
| ArrowDown | Navigate to the next item. |
| ArrowUp | Navigate to the previous item. |
| Enter | Select the current item. |
| Escape | Close the command menu. |
| Home | Navigate to the first item. |
| End | Navigate to the last item. |

## Notes

- The Command component is built on top of the [cmdk](https://cmdk.paco.me/) library.
- Use `CommandDialog` for command palettes that appear in a modal.
- The component supports both controlled and uncontrolled usage.
- Custom filtering can be implemented using the `filter` prop.
- Items are automatically filtered based on the search input unless `shouldFilter` is set to `false`.