---
title: Toggle
description: A two-state button that can be either on or off. Built on top of Radix UI Toggle primitive with customizable variants and sizes.
component: true
---

## Import

<CodePreview code="import { Toggle } from '@/components/ui/toggle'" language="tsx" />

## Usage

### Default Toggle

A basic toggle button with icon content.

<CodePreview 
  code={`import { Toggle } from "@/components/ui/toggle";
import { Bold } from "lucide-react";

export default function ToggleDefault() {
  return (
    <div className="space-y-4">
      <h3 className="text-lg font-medium">Basic Toggle</h3>
      <div className="flex items-center space-x-4">
        <Toggle aria-label="Toggle bold">
          <Bold className="h-4 w-4" />
        </Toggle>
        <Toggle defaultPressed aria-label="Toggle bold (pressed)">
          <Bold className="h-4 w-4" />
        </Toggle>
        <Toggle disabled aria-label="Toggle bold (disabled)">
          <Bold className="h-4 w-4" />
        </Toggle>
      </div>
    </div>
  );
}`} 
  language="tsx" 
  preview={<ToggleDefault />} 
/>

### Toggle Variants

Different visual styles for various use cases.

<CodePreview 
  code={`import { Toggle } from "@/components/ui/toggle";
import { Bold, Italic, Underline } from "lucide-react";

export default function ToggleVariants() {
  return (
    <div className="space-y-6">
      <div className="space-y-4">
        <h3 className="text-lg font-medium">Default Variant</h3>
        <div className="flex items-center space-x-2">
          <Toggle variant="default" aria-label="Bold">
            <Bold className="h-4 w-4" />
          </Toggle>
          <Toggle variant="default" defaultPressed aria-label="Italic">
            <Italic className="h-4 w-4" />
          </Toggle>
          <Toggle variant="default" aria-label="Underline">
            <Underline className="h-4 w-4" />
          </Toggle>
        </div>
      </div>

      <div className="space-y-4">
        <h3 className="text-lg font-medium">Outline Variant</h3>
        <div className="flex items-center space-x-2">
          <Toggle variant="outline" aria-label="Bold">
            <Bold className="h-4 w-4" />
          </Toggle>
          <Toggle variant="outline" defaultPressed aria-label="Italic">
            <Italic className="h-4 w-4" />
          </Toggle>
          <Toggle variant="outline" aria-label="Underline">
            <Underline className="h-4 w-4" />
          </Toggle>
        </div>
      </div>
    </div>
  );
}`} 
  language="tsx" 
  preview={<ToggleVariants />} 
/>

### Toggle Sizes

Different sizes for various contexts and layouts.

<CodePreview 
  code={`import { Toggle } from "@/components/ui/toggle";
import { Bold } from "lucide-react";

export default function ToggleSizes() {
  return (
    <div className="space-y-6">
      <div className="space-y-4">
        <h3 className="text-lg font-medium">Small Size</h3>
        <div className="flex items-center space-x-2">
          <Toggle size="sm" aria-label="Bold">
            <Bold className="h-3 w-3" />
          </Toggle>
          <Toggle size="sm" defaultPressed aria-label="Bold (pressed)">
            <Bold className="h-3 w-3" />
          </Toggle>
        </div>
      </div>

      <div className="space-y-4">
        <h3 className="text-lg font-medium">Default Size</h3>
        <div className="flex items-center space-x-2">
          <Toggle size="default" aria-label="Bold">
            <Bold className="h-4 w-4" />
          </Toggle>
          <Toggle size="default" defaultPressed aria-label="Bold (pressed)">
            <Bold className="h-4 w-4" />
          </Toggle>
        </div>
      </div>

      <div className="space-y-4">
        <h3 className="text-lg font-medium">Large Size</h3>
        <div className="flex items-center space-x-2">
          <Toggle size="lg" aria-label="Bold">
            <Bold className="h-5 w-5" />
          </Toggle>
          <Toggle size="lg" defaultPressed aria-label="Bold (pressed)">
            <Bold className="h-5 w-5" />
          </Toggle>
        </div>
      </div>
    </div>
  );
}`} 
  language="tsx" 
  preview={<ToggleSizes />} 
/>

### Toggle with Text

Toggles with text labels for better context.

<CodePreview 
  code={`import { Toggle } from "@/components/ui/toggle";
import { Bold, Italic, Underline } from "lucide-react";

export default function ToggleWithText() {
  return (
    <div className="space-y-6">
      <div className="space-y-4">
        <h3 className="text-lg font-medium">Icon with Text</h3>
        <div className="flex items-center space-x-2">
          <Toggle aria-label="Bold">
            <Bold className="h-4 w-4 mr-2" />
            Bold
          </Toggle>
          <Toggle defaultPressed aria-label="Italic">
            <Italic className="h-4 w-4 mr-2" />
            Italic
          </Toggle>
          <Toggle aria-label="Underline">
            <Underline className="h-4 w-4 mr-2" />
            Underline
          </Toggle>
        </div>
      </div>

      <div className="space-y-4">
        <h3 className="text-lg font-medium">Text Only</h3>
        <div className="flex items-center space-x-2">
          <Toggle aria-label="Bold">Bold</Toggle>
          <Toggle defaultPressed aria-label="Italic">Italic</Toggle>
          <Toggle aria-label="Underline">Underline</Toggle>
        </div>
      </div>

      <div className="space-y-4">
        <h3 className="text-lg font-medium">Outline with Text</h3>
        <div className="flex items-center space-x-2">
          <Toggle variant="outline" aria-label="Bold">
            <Bold className="h-4 w-4 mr-2" />
            Bold
          </Toggle>
          <Toggle variant="outline" defaultPressed aria-label="Italic">
            <Italic className="h-4 w-4 mr-2" />
            Italic
          </Toggle>
          <Toggle variant="outline" aria-label="Underline">
            <Underline className="h-4 w-4 mr-2" />
            Underline
          </Toggle>
        </div>
      </div>
    </div>
  );
}`} 
  language="tsx" 
  preview={<ToggleWithText />} 
/>

## Real-World Examples

### Text Editor Toolbar

A rich text editor toolbar with formatting toggles.

<CodePreview 
  code={`import { useState } from "react";
import { Toggle } from "@/components/ui/toggle";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import { 
  Bold, 
  Italic, 
  Underline, 
  Strikethrough, 
  AlignLeft, 
  AlignCenter, 
  AlignRight, 
  AlignJustify,
  List,
  ListOrdered
} from "lucide-react";

export default function ToggleTextEditor() {
  const [formatting, setFormatting] = useState({
    bold: false,
    italic: false,
    underline: false,
    strikethrough: false,
    alignLeft: true,
    alignCenter: false,
    alignRight: false,
    alignJustify: false,
    bulletList: false,
    numberedList: false
  });

  const updateFormatting = (key: string, value: boolean) => {
    setFormatting(prev => {
      const newState = { ...prev, [key]: value };
      
      // Handle alignment exclusivity
      if (key.startsWith('align') && value) {
        newState.alignLeft = key === 'alignLeft';
        newState.alignCenter = key === 'alignCenter';
        newState.alignRight = key === 'alignRight';
        newState.alignJustify = key === 'alignJustify';
      }
      
      // Handle list exclusivity
      if ((key === 'bulletList' || key === 'numberedList') && value) {
        newState.bulletList = key === 'bulletList';
        newState.numberedList = key === 'numberedList';
      }
      
      return newState;
    });
  };

  return (
    <Card className="w-full max-w-2xl">
      <CardHeader>
        <CardTitle>Rich Text Editor</CardTitle>
        <CardDescription>Format your text with these toolbar options</CardDescription>
      </CardHeader>
      <CardContent className="space-y-4">
        <div className="flex items-center space-x-1 p-2 border rounded-lg bg-muted/20">
          {/* Text Formatting */}
          <div className="flex items-center space-x-1">
            <Toggle
              pressed={formatting.bold}
              onPressedChange={(pressed) => updateFormatting('bold', pressed)}
              aria-label="Bold"
              size="sm"
            >
              <Bold className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.italic}
              onPressedChange={(pressed) => updateFormatting('italic', pressed)}
              aria-label="Italic"
              size="sm"
            >
              <Italic className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.underline}
              onPressedChange={(pressed) => updateFormatting('underline', pressed)}
              aria-label="Underline"
              size="sm"
            >
              <Underline className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.strikethrough}
              onPressedChange={(pressed) => updateFormatting('strikethrough', pressed)}
              aria-label="Strikethrough"
              size="sm"
            >
              <Strikethrough className="h-4 w-4" />
            </Toggle>
          </div>

          <Separator orientation="vertical" className="h-6" />

          {/* Alignment */}
          <div className="flex items-center space-x-1">
            <Toggle
              pressed={formatting.alignLeft}
              onPressedChange={(pressed) => updateFormatting('alignLeft', pressed)}
              aria-label="Align Left"
              size="sm"
            >
              <AlignLeft className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.alignCenter}
              onPressedChange={(pressed) => updateFormatting('alignCenter', pressed)}
              aria-label="Align Center"
              size="sm"
            >
              <AlignCenter className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.alignRight}
              onPressedChange={(pressed) => updateFormatting('alignRight', pressed)}
              aria-label="Align Right"
              size="sm"
            >
              <AlignRight className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.alignJustify}
              onPressedChange={(pressed) => updateFormatting('alignJustify', pressed)}
              aria-label="Justify"
              size="sm"
            >
              <AlignJustify className="h-4 w-4" />
            </Toggle>
          </div>

          <Separator orientation="vertical" className="h-6" />

          {/* Lists */}
          <div className="flex items-center space-x-1">
            <Toggle
              pressed={formatting.bulletList}
              onPressedChange={(pressed) => updateFormatting('bulletList', pressed)}
              aria-label="Bullet List"
              size="sm"
            >
              <List className="h-4 w-4" />
            </Toggle>
            <Toggle
              pressed={formatting.numberedList}
              onPressedChange={(pressed) => updateFormatting('numberedList', pressed)}
              aria-label="Numbered List"
              size="sm"
            >
              <ListOrdered className="h-4 w-4" />
            </Toggle>
          </div>
        </div>

        {/* Preview */}
        <div className="p-4 border rounded-lg min-h-[100px] bg-background">
          <div 
            className={\`
              \${formatting.bold ? 'font-bold' : ''}
              \${formatting.italic ? 'italic' : ''}
              \${formatting.underline ? 'underline' : ''}
              \${formatting.strikethrough ? 'line-through' : ''}
              \${formatting.alignLeft ? 'text-left' : ''}
              \${formatting.alignCenter ? 'text-center' : ''}
              \${formatting.alignRight ? 'text-right' : ''}
              \${formatting.alignJustify ? 'text-justify' : ''}
            \`}
          >
            {formatting.bulletList && '• '}
            {formatting.numberedList && '1. '}
            This is a sample text that shows the formatting applied by the toolbar above.
          </div>
        </div>

        {/* Active Formatting Display */}
        <div className="text-sm text-muted-foreground">
          <strong>Active formatting:</strong>{' '}
          {Object.entries(formatting)
            .filter(([_, value]) => value)
            .map(([key, _]) => key)
            .join(', ') || 'None'}
        </div>
      </CardContent>
    </Card>
  );
}`} 
  language="tsx" 
  preview={<ToggleTextEditor />} 
/>

### Media Player Controls

Media player with play/pause and control toggles.

<CodePreview 
  code={`import { useState } from "react";
import { Toggle } from "@/components/ui/toggle";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import { 
  Play, 
  Pause, 
  Volume2, 
  VolumeX, 
  Repeat, 
  Shuffle, 
  Heart,
  SkipBack,
  SkipForward
} from "lucide-react";

export default function ToggleMediaPlayer() {
  const [controls, setControls] = useState({
    isPlaying: false,
    isMuted: false,
    isRepeating: false,
    isShuffling: false,
    isLiked: false
  });

  const updateControl = (key: string, value: boolean) => {
    setControls(prev => ({ ...prev, [key]: value }));
  };

  return (
    <Card className="w-full max-w-md">
      <CardHeader>
        <CardTitle>Now Playing</CardTitle>
        <CardDescription>Beautiful Song - Artist Name</CardDescription>
      </CardHeader>
      <CardContent className="space-y-6">
        {/* Album Art Placeholder */}
        <div className="aspect-square bg-gradient-to-br from-purple-400 to-pink-400 rounded-lg flex items-center justify-center">
          <div className="text-white text-6xl">♪</div>
        </div>

        {/* Main Controls */}
        <div className="flex items-center justify-center space-x-4">
          <Toggle
            pressed={controls.isShuffling}
            onPressedChange={(pressed) => updateControl('isShuffling', pressed)}
            aria-label="Shuffle"
            variant="outline"
            size="sm"
          >
            <Shuffle className="h-4 w-4" />
          </Toggle>

          <button className="p-2 rounded-full hover:bg-muted">
            <SkipBack className="h-5 w-5" />
          </button>

          <Toggle
            pressed={controls.isPlaying}
            onPressedChange={(pressed) => updateControl('isPlaying', pressed)}
            aria-label={controls.isPlaying ? "Pause" : "Play"}
            size="lg"
            className="rounded-full"
          >
            {controls.isPlaying ? (
              <Pause className="h-6 w-6" />
            ) : (
              <Play className="h-6 w-6" />
            )}
          </Toggle>

          <button className="p-2 rounded-full hover:bg-muted">
            <SkipForward className="h-5 w-5" />
          </button>

          <Toggle
            pressed={controls.isRepeating}
            onPressedChange={(pressed) => updateControl('isRepeating', pressed)}
            aria-label="Repeat"
            variant="outline"
            size="sm"
          >
            <Repeat className="h-4 w-4" />
          </Toggle>
        </div>

        {/* Secondary Controls */}
        <div className="flex items-center justify-between">
          <Toggle
            pressed={controls.isMuted}
            onPressedChange={(pressed) => updateControl('isMuted', pressed)}
            aria-label={controls.isMuted ? "Unmute" : "Mute"}
            variant="outline"
            size="sm"
          >
            {controls.isMuted ? (
              <VolumeX className="h-4 w-4" />
            ) : (
              <Volume2 className="h-4 w-4" />
            )}
          </Toggle>

          <Toggle
            pressed={controls.isLiked}
            onPressedChange={(pressed) => updateControl('isLiked', pressed)}
            aria-label={controls.isLiked ? "Unlike" : "Like"}
            variant="outline"
            size="sm"
            className={controls.isLiked ? "text-red-500 border-red-500" : ""}
          >
            <Heart className={\`h-4 w-4 \${controls.isLiked ? 'fill-current' : ''}\`} />
          </Toggle>
        </div>

        {/* Status Display */}
        <div className="text-center text-sm text-muted-foreground space-y-1">
          <div>Status: {controls.isPlaying ? 'Playing' : 'Paused'}</div>
          <div className="flex justify-center space-x-4">
            {controls.isRepeating && <span>🔁 Repeat</span>}
            {controls.isShuffling && <span>🔀 Shuffle</span>}
            {controls.isMuted && <span>🔇 Muted</span>}
            {controls.isLiked && <span>❤️ Liked</span>}
          </div>
        </div>
      </CardContent>
    </Card>
  );
}`} 
  language="tsx" 
  preview={<ToggleMediaPlayer />} 
/>

### Notification Settings

A settings panel with various notification toggles.

<CodePreview 
  code={`import { useState } from "react";
import { Toggle } from "@/components/ui/toggle";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import { 
  Bell, 
  Mail, 
  MessageSquare, 
  Phone, 
  Calendar, 
  Users, 
  ShoppingCart,
  Heart,
  Star,
  Zap
} from "lucide-react";

export default function ToggleNotificationSettings() {
  const [notifications, setNotifications] = useState({
    email: true,
    push: true,
    sms: false,
    marketing: false,
    social: true,
    calendar: true,
    orders: true,
    likes: false,
    comments: true,
    mentions: true
  });

  const updateNotification = (key: string, value: boolean) => {
    setNotifications(prev => ({ ...prev, [key]: value }));
  };

  const notificationGroups = [
    {
      title: "Communication",
      items: [
        { key: 'email', label: 'Email Notifications', icon: Mail, description: 'Receive notifications via email' },
        { key: 'push', label: 'Push Notifications', icon: Bell, description: 'Browser and mobile push notifications' },
        { key: 'sms', label: 'SMS Notifications', icon: Phone, description: 'Text message notifications' }
      ]
    },
    {
      title: "Content & Activity",
      items: [
        { key: 'social', label: 'Social Activity', icon: Users, description: 'Friend requests, follows, etc.' },
        { key: 'comments', label: 'Comments', icon: MessageSquare, description: 'When someone comments on your posts' },
        { key: 'mentions', label: 'Mentions', icon: Zap, description: 'When someone mentions you' },
        { key: 'likes', label: 'Likes & Reactions', icon: Heart, description: 'When someone likes your content' }
      ]
    },
    {
      title: "System & Updates",
      items: [
        { key: 'calendar', label: 'Calendar Events', icon: Calendar, description: 'Upcoming events and reminders' },
        { key: 'orders', label: 'Order Updates', icon: ShoppingCart, description: 'Order confirmations and shipping' },
        { key: 'marketing', label: 'Marketing & Promotions', icon: Star, description: 'Special offers and updates' }
      ]
    }
  ];

  return (
    <Card className="w-full max-w-2xl">
      <CardHeader>
        <CardTitle>Notification Preferences</CardTitle>
        <CardDescription>Manage how you receive notifications</CardDescription>
      </CardHeader>
      <CardContent className="space-y-6">
        {notificationGroups.map((group, groupIndex) => (
          <div key={group.title} className="space-y-4">
            <h3 className="text-lg font-medium">{group.title}</h3>
            <div className="space-y-3">
              {group.items.map((item) => {
                const Icon = item.icon;
                return (
                  <div key={item.key} className="flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors">
                    <div className="flex items-start space-x-3">
                      <Icon className="h-5 w-5 mt-0.5 text-muted-foreground" />
                      <div className="space-y-1">
                        <div className="font-medium">{item.label}</div>
                        <div className="text-sm text-muted-foreground">{item.description}</div>
                      </div>
                    </div>
                    <Toggle
                      pressed={notifications[item.key as keyof typeof notifications]}
                      onPressedChange={(pressed) => updateNotification(item.key, pressed)}
                      aria-label={\`Toggle \${item.label}\`}
                      variant="outline"
                    >
                      {notifications[item.key as keyof typeof notifications] ? 'On' : 'Off'}
                    </Toggle>
                  </div>
                );
              })}
            </div>
            {groupIndex < notificationGroups.length - 1 && <Separator />}
          </div>
        ))}

        {/* Summary */}
        <div className="p-4 bg-muted rounded-lg">
          <h4 className="font-medium mb-2">Active Notifications</h4>
          <div className="text-sm text-muted-foreground">
            {Object.entries(notifications)
              .filter(([_, value]) => value)
              .map(([key, _]) => {
                const item = notificationGroups
                  .flatMap(group => group.items)
                  .find(item => item.key === key);
                return item?.label;
              })
              .filter(Boolean)
              .join(', ') || 'None selected'}
          </div>
        </div>
      </CardContent>
    </Card>
  );
}`} 
  language="tsx" 
  preview={<ToggleNotificationSettings />} 
/>

### E-commerce Filter Panel

Product filtering with multiple toggle options.

<CodePreview 
  code={`import { useState } from "react";
import { Toggle } from "@/components/ui/toggle";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Separator } from "@/components/ui/separator";
import { 
  Star, 
  Truck, 
  Shield, 
  Zap, 
  Heart, 
  Gift,
  Percent,
  Award,
  Clock,
  CheckCircle
} from "lucide-react";

export default function ToggleFilterPanel() {
  const [filters, setFilters] = useState({
    inStock: false,
    onSale: false,
    freeShipping: false,
    premium: false,
    newArrivals: false,
    bestseller: false,
    warranty: false,
    fastDelivery: false,
    giftWrap: false,
    verified: false
  });

  const updateFilter = (key: string, value: boolean) => {
    setFilters(prev => ({ ...prev, [key]: value }));
  };

  const filterOptions = [
    {
      category: "Availability",
      items: [
        { key: 'inStock', label: 'In Stock', icon: CheckCircle, color: 'text-green-600' },
        { key: 'newArrivals', label: 'New Arrivals', icon: Zap, color: 'text-blue-600' },
        { key: 'bestseller', label: 'Bestseller', icon: Award, color: 'text-yellow-600' }
      ]
    },
    {
      category: "Pricing & Offers",
      items: [
        { key: 'onSale', label: 'On Sale', icon: Percent, color: 'text-red-600' },
        { key: 'premium', label: 'Premium', icon: Star, color: 'text-purple-600' }
      ]
    },
    {
      category: "Shipping & Services",
      items: [
        { key: 'freeShipping', label: 'Free Shipping', icon: Truck, color: 'text-green-600' },
        { key: 'fastDelivery', label: 'Fast Delivery', icon: Clock, color: 'text-orange-600' },
        { key: 'giftWrap', label: 'Gift Wrap Available', icon: Gift, color: 'text-pink-600' }
      ]
    },
    {
      category: "Quality & Trust",
      items: [
        { key: 'warranty', label: 'Warranty Included', icon: Shield, color: 'text-blue-600' },
        { key: 'verified', label: 'Verified Seller', icon: CheckCircle, color: 'text-green-600' }
      ]
    }
  ];

  const activeFiltersCount = Object.values(filters).filter(Boolean).length;

  return (
    <Card className="w-full max-w-md">
      <CardHeader>
        <CardTitle className="flex items-center justify-between">
          Product Filters
          {activeFiltersCount > 0 && (
            <Badge variant="secondary">{activeFiltersCount} active</Badge>
          )}
        </CardTitle>
        <CardDescription>Refine your search results</CardDescription>
      </CardHeader>
      <CardContent className="space-y-6">
        {filterOptions.map((category, categoryIndex) => (
          <div key={category.category} className="space-y-3">
            <h4 className="font-medium text-sm text-muted-foreground uppercase tracking-wide">
              {category.category}
            </h4>
            <div className="space-y-2">
              {category.items.map((item) => {
                const Icon = item.icon;
                return (
                  <div key={item.key} className="flex items-center justify-between">
                    <div className="flex items-center space-x-2">
                      <Icon className={\`h-4 w-4 \${item.color}\`} />
                      <span className="text-sm">{item.label}</span>
                    </div>
                    <Toggle
                      pressed={filters[item.key as keyof typeof filters]}
                      onPressedChange={(pressed) => updateFilter(item.key, pressed)}
                      aria-label={\`Toggle \${item.label} filter\`}
                      size="sm"
                      variant="outline"
                    />
                  </div>
                );
              })}
            </div>
            {categoryIndex < filterOptions.length - 1 && <Separator />}
          </div>
        ))}

        {/* Active Filters Summary */}
        {activeFiltersCount > 0 && (
          <div className="p-3 bg-muted rounded-lg">
            <h4 className="font-medium text-sm mb-2">Active Filters</h4>
            <div className="flex flex-wrap gap-1">
              {Object.entries(filters)
                .filter(([_, value]) => value)
                .map(([key, _]) => {
                  const item = filterOptions
                    .flatMap(cat => cat.items)
                    .find(item => item.key === key);
                  return (
                    <Badge key={key} variant="secondary" className="text-xs">
                      {item?.label}
                    </Badge>
                  );
                })}
            </div>
          </div>
        )}

        {/* Results Count Simulation */}
        <div className="text-center text-sm text-muted-foreground">
          Showing {Math.max(1, 247 - (activeFiltersCount * 23))} products
        </div>
      </CardContent>
    </Card>
  );
}`} 
  language="tsx" 
  preview={<ToggleFilterPanel />} 
/>

### View Mode Switcher

Toggle between different view modes in an application.

<CodePreview 
  code={`import { useState } from "react";
import { Toggle } from "@/components/ui/toggle";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { 
  Grid3X3, 
  List, 
  LayoutGrid, 
  Table,
  Image,
  FileText,
  Calendar,
  Map
} from "lucide-react";

export default function ToggleViewModes() {
  const [currentView, setCurrentView] = useState('grid');
  const [displayOptions, setDisplayOptions] = useState({
    showImages: true,
    showDetails: true,
    compactMode: false,
    showDates: false
  });

  const viewModes = [
    { id: 'grid', label: 'Grid View', icon: Grid3X3 },
    { id: 'list', label: 'List View', icon: List },
    { id: 'table', label: 'Table View', icon: Table },
    { id: 'gallery', label: 'Gallery View', icon: LayoutGrid }
  ];

  const displayToggles = [
    { key: 'showImages', label: 'Show Images', icon: Image },
    { key: 'showDetails', label: 'Show Details', icon: FileText },
    { key: 'compactMode', label: 'Compact Mode', icon: LayoutGrid },
    { key: 'showDates', label: 'Show Dates', icon: Calendar }
  ];

  const updateDisplayOption = (key: string, value: boolean) => {
    setDisplayOptions(prev => ({ ...prev, [key]: value }));
  };

  return (
    <Card className="w-full max-w-lg">
      <CardHeader>
        <CardTitle>View Options</CardTitle>
        <CardDescription>Customize how content is displayed</CardDescription>
      </CardHeader>
      <CardContent className="space-y-6">
        {/* View Mode Selection */}
        <div className="space-y-3">
          <h4 className="font-medium">View Mode</h4>
          <div className="grid grid-cols-2 gap-2">
            {viewModes.map((mode) => {
              const Icon = mode.icon;
              return (
                <Toggle
                  key={mode.id}
                  pressed={currentView === mode.id}
                  onPressedChange={(pressed) => pressed && setCurrentView(mode.id)}
                  aria-label={mode.label}
                  variant="outline"
                  className="justify-start h-auto p-3"
                >
                  <Icon className="h-4 w-4 mr-2" />
                  <span className="text-sm">{mode.label}</span>
                </Toggle>
              );
            })}
          </div>
        </div>

        {/* Display Options */}
        <div className="space-y-3">
          <h4 className="font-medium">Display Options</h4>
          <div className="space-y-2">
            {displayToggles.map((toggle) => {
              const Icon = toggle.icon;
              return (
                <div key={toggle.key} className="flex items-center justify-between">
                  <div className="flex items-center space-x-2">
                    <Icon className="h-4 w-4 text-muted-foreground" />
                    <span className="text-sm">{toggle.label}</span>
                  </div>
                  <Toggle
                    pressed={displayOptions[toggle.key as keyof typeof displayOptions]}
                    onPressedChange={(pressed) => updateDisplayOption(toggle.key, pressed)}
                    aria-label={\`Toggle \${toggle.label}\`}
                    size="sm"
                  />
                </div>
              );
            })}
          </div>
        </div>

        {/* Preview */}
        <div className="space-y-3">
          <h4 className="font-medium">Preview</h4>
          <div className="p-4 border rounded-lg bg-muted/20 min-h-[120px]">
            <div className="text-sm text-muted-foreground mb-2">
              Current view: <strong>{viewModes.find(v => v.id === currentView)?.label}</strong>
            </div>
            
            {/* Simulated content based on view mode */}
            {currentView === 'grid' && (
              <div className="grid grid-cols-3 gap-2">
                {[1, 2, 3, 4, 5, 6].map(i => (
                  <div key={i} className="aspect-square bg-background border rounded flex items-center justify-center text-xs">
                    {displayOptions.showImages && '🖼️'}
                    {displayOptions.showDetails && <div className="text-center">Item {i}</div>}
                  </div>
                ))}
              </div>
            )}
            
            {currentView === 'list' && (
              <div className="space-y-1">
                {[1, 2, 3].map(i => (
                  <div key={i} className={\`flex items-center space-x-2 p-2 bg-background border rounded \${displayOptions.compactMode ? 'py-1' : ''}\`}>
                    {displayOptions.showImages && <div className="w-8 h-8 bg-muted rounded">🖼️</div>}
                    <div className="flex-1">
                      <div className="text-sm">Item {i}</div>
                      {displayOptions.showDetails && <div className="text-xs text-muted-foreground">Details for item {i}</div>}
                    </div>
                    {displayOptions.showDates && <div className="text-xs text-muted-foreground">Today</div>}
                  </div>
                ))}
              </div>
            )}
            
            {currentView === 'table' && (
              <div className="space-y-1">
                <div className="grid grid-cols-3 gap-2 text-xs font-medium border-b pb-1">
                  <div>Name</div>
                  {displayOptions.showDetails && <div>Details</div>}
                  {displayOptions.showDates && <div>Date</div>}
                </div>
                {[1, 2, 3].map(i => (
                  <div key={i} className={\`grid grid-cols-3 gap-2 text-xs py-1 \${displayOptions.compactMode ? 'py-0.5' : ''}\`}>
                    <div>Item {i}</div>
                    {displayOptions.showDetails && <div className="text-muted-foreground">Details {i}</div>}
                    {displayOptions.showDates && <div className="text-muted-foreground">Today</div>}
                  </div>
                ))}
              </div>
            )}
            
            {currentView === 'gallery' && (
              <div className="grid grid-cols-2 gap-2">
                {[1, 2, 3, 4].map(i => (
                  <div key={i} className="aspect-video bg-background border rounded flex items-center justify-center">
                    {displayOptions.showImages ? '🖼️' : '📄'}
                    {displayOptions.showDetails && <div className="ml-1 text-xs">Item {i}</div>}
                  </div>
                ))}
              </div>
            )}
          </div>
        </div>
      </CardContent>
    </Card>
  );
}`} 
  language="tsx" 
  preview={<ToggleViewModes />} 
/>

### Feature Flags Dashboard

Admin dashboard for managing feature flags.

<CodePreview 
  code={`import { useState } from "react";
import { Toggle } from "@/components/ui/toggle";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Separator } from "@/components/ui/separator";
import { 
  Flag, 
  Users, 
  Zap, 
  Shield, 
  Bell, 
  Palette,
  Database,
  Globe,
  Lock,
  Sparkles
} from "lucide-react";

export default function ToggleFeatureFlags() {
  const [features, setFeatures] = useState({
    newDashboard: true,
    darkMode: true,
    notifications: false,
    advancedSearch: true,
    betaFeatures: false,
    analytics: true,
    apiV2: false,
    socialLogin: true,
    premiumFeatures: false,
    maintenanceMode: false
  });

  const updateFeature = (key: string, value: boolean) => {
    setFeatures(prev => ({ ...prev, [key]: value }));
  };

  const featureGroups = [
    {
      title: "User Interface",
      description: "Frontend features and UI enhancements",
      features: [
        {
          key: 'newDashboard',
          name: 'New Dashboard',
          description: 'Updated dashboard with improved UX',
          icon: Palette,
          impact: 'high',
          users: '85%'
        },
        {
          key: 'darkMode',
          name: 'Dark Mode',
          description: 'Dark theme support across the application',
          icon: Palette,
          impact: 'medium',
          users: '60%'
        },
        {
          key: 'notifications',
          name: 'Push Notifications',
          description: 'Real-time browser notifications',
          icon: Bell,
          impact: 'medium',
          users: '45%'
        }
      ]
    },
    {
      title: "Core Features",
      description: "Main application functionality",
      features: [
        {
          key: 'advancedSearch',
          name: 'Advanced Search',
          description: 'Enhanced search with filters and suggestions',
          icon: Zap,
          impact: 'high',
          users: '92%'
        },
        {
          key: 'socialLogin',
          name: 'Social Login',
          description: 'Login with Google, Facebook, GitHub',
          icon: Users,
          impact: 'medium',
          users: '78%'
        },
        {
          key: 'analytics',
          name: 'User Analytics',
          description: 'Detailed user behavior tracking',
          icon: Database,
          impact: 'low',
          users: '100%'
        }
      ]
    },
    {
      title: "Experimental",
      description: "Beta features and experimental functionality",
      features: [
        {
          key: 'betaFeatures',
          name: 'Beta Features',
          description: 'Access to experimental features',
          icon: Sparkles,
          impact: 'low',
          users: '15%'
        },
        {
          key: 'apiV2',
          name: 'API v2',
          description: 'Next generation API endpoints',
          icon: Globe,
          impact: 'high',
          users: '25%'
        },
        {
          key: 'premiumFeatures',
          name: 'Premium Features',
          description: 'Advanced features for premium users',
          icon: Shield,
          impact: 'medium',
          users: '35%'
        }
      ]
    },
    {
      title: "System",
      description: "System-wide settings and maintenance",
      features: [
        {
          key: 'maintenanceMode',
          name: 'Maintenance Mode',
          description: 'Enable maintenance mode for all users',
          icon: Lock,
          impact: 'critical',
          users: '0%'
        }
      ]
    }
  ];

  const getImpactColor = (impact: string) => {
    switch (impact) {
      case 'critical': return 'bg-red-100 text-red-800 border-red-200';
      case 'high': return 'bg-orange-100 text-orange-800 border-orange-200';
      case 'medium': return 'bg-yellow-100 text-yellow-800 border-yellow-200';
      case 'low': return 'bg-green-100 text-green-800 border-green-200';
      default: return 'bg-gray-100 text-gray-800 border-gray-200';
    }
  };

  const activeFeatures = Object.values(features).filter(Boolean).length;
  const totalFeatures = Object.keys(features).length;

  return (
    <Card className="w-full max-w-4xl">
      <CardHeader>
        <div className="flex items-center justify-between">
          <div>
            <CardTitle className="flex items-center space-x-2">
              <Flag className="h-5 w-5" />
              <span>Feature Flags Dashboard</span>
            </CardTitle>
            <CardDescription>Manage feature rollouts and experimental functionality</CardDescription>
          </div>
          <div className="text-right">
            <div className="text-2xl font-bold">{activeFeatures}/{totalFeatures}</div>
            <div className="text-sm text-muted-foreground">Features Active</div>
          </div>
        </div>
      </CardHeader>
      <CardContent className="space-y-6">
        {featureGroups.map((group, groupIndex) => (
          <div key={group.title} className="space-y-4">
            <div>
              <h3 className="text-lg font-medium">{group.title}</h3>
              <p className="text-sm text-muted-foreground">{group.description}</p>
            </div>
            
            <div className="space-y-3">
              {group.features.map((feature) => {
                const Icon = feature.icon;
                const isActive = features[feature.key as keyof typeof features];
                
                return (
                  <div key={feature.key} className="flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors">
                    <div className="flex items-start space-x-3 flex-1">
                      <Icon className="h-5 w-5 mt-0.5 text-muted-foreground" />
                      <div className="space-y-1 flex-1">
                        <div className="flex items-center space-x-2">
                          <span className="font-medium">{feature.name}</span>
                          <Badge 
                            variant="outline" 
                            className={\`text-xs \${getImpactColor(feature.impact)}\`}
                          >
                            {feature.impact}
                          </Badge>
                        </div>
                        <p className="text-sm text-muted-foreground">{feature.description}</p>
                        <div className="flex items-center space-x-4 text-xs text-muted-foreground">
                          <span>👥 {feature.users} users</span>
                          <span>🔄 {isActive ? 'Active' : 'Inactive'}</span>
                        </div>
                      </div>
                    </div>
                    
                    <Toggle
                      pressed={isActive}
                      onPressedChange={(pressed) => updateFeature(feature.key, pressed)}
                      aria-label={\`Toggle \${feature.name}\`}
                      variant="outline"
                      className={isActive ? "border-green-500 bg-green-50" : ""}
                    >
                      {isActive ? 'ON' : 'OFF'}
                    </Toggle>
                  </div>
                );
              })}
            </div>
            
            {groupIndex < featureGroups.length - 1 && <Separator />}
          </div>
        ))}

        {/* Summary Stats */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t">
          <div className="text-center p-3 bg-muted rounded-lg">
            <div className="text-2xl font-bold text-green-600">{activeFeatures}</div>
            <div className="text-sm text-muted-foreground">Active Features</div>
          </div>
          <div className="text-center p-3 bg-muted rounded-lg">
            <div className="text-2xl font-bold text-blue-600">
              {featureGroups.flatMap(g => g.features).filter(f => f.impact === 'high').length}
            </div>
            <div className="text-sm text-muted-foreground">High Impact</div>
          </div>
          <div className="text-center p-3 bg-muted rounded-lg">
            <div className="text-2xl font-bold text-purple-600">
              {featureGroups.find(g => g.title === 'Experimental')?.features.filter(f => features[f.key as keyof typeof features]).length || 0}
            </div>
            <div className="text-sm text-muted-foreground">Beta Features</div>
          </div>
        </div>
      </CardContent>
    </Card>
  );
}`} 
  language="tsx" 
  preview={<ToggleFeatureFlags />} 
/>

## API Reference

### Toggle

A two-state button that can be either on (pressed) or off (not pressed).

#### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `pressed` | `boolean` | `undefined` | The controlled pressed state of the toggle |
| `defaultPressed` | `boolean` | `false` | The default pressed state when uncontrolled |
| `onPressedChange` | `(pressed: boolean) => void` | `undefined` | Callback fired when the pressed state changes |
| `disabled` | `boolean` | `false` | Whether the toggle is disabled |
| `variant` | `"default" \| "outline"` | `"default"` | The visual variant of the toggle |
| `size` | `"default" \| "sm" \| "lg"` | `"default"` | The size of the toggle |
| `className` | `string` | `undefined` | Additional CSS classes |
| `children` | `React.ReactNode` | `undefined` | The content of the toggle |

#### Data Attributes

The toggle automatically sets the following data attributes:

- `data-state`: `"on"` when pressed, `"off"` when not pressed
- `data-disabled`: Present when disabled

#### ARIA Attributes

- `aria-pressed`: Indicates the pressed state (`"true"` or `"false"`)
- `role`: Set to `"button"`
- `type`: Set to `"button"`

## Keyboard Navigation

| Key | Action |
|-----|--------|
| `Space` | Toggles the pressed state |
| `Enter` | Toggles the pressed state |
| `Tab` | Moves focus to the toggle |

## Accessibility

The Toggle component follows WAI-ARIA guidelines:

- Uses `aria-pressed` to indicate the current state
- Supports keyboard navigation with Space and Enter keys
- Provides proper focus management
- Supports screen readers with appropriate ARIA attributes

### Best Practices

1. **Always provide an accessible label** using `aria-label` or `aria-labelledby`
2. **Use descriptive labels** that clearly indicate what the toggle controls
3. **Group related toggles** logically and provide group labels when appropriate
4. **Provide visual feedback** for the pressed state that doesn't rely solely on color
5. **Consider the context** - use appropriate variants and sizes for your layout

### Examples in Context

```tsx
// Text editor toolbar
<Toggle aria-label="Bold" pressed={isBold} onPressedChange={setIsBold}>
  <Bold className="h-4 w-4" />
</Toggle>

// Settings panel
<Toggle aria-label="Enable notifications" pressed={notifications} onPressedChange={setNotifications}>
  {notifications ? 'On' : 'Off'}
</Toggle>

// Media controls
<Toggle aria-label={isPlaying ? "Pause" : "Play"} pressed={isPlaying} onPressedChange={setIsPlaying}>
  {isPlaying ? <Pause className="h-4 w-4" /> : <Play className="h-4 w-4" />}
</Toggle>
```

## Dependencies

This component is built on top of:

- **Radix UI Toggle** - Provides the accessible toggle primitive
- **class-variance-authority** - For variant-based styling
- **Tailwind CSS** - For styling and responsive design

## Related Components

- **Switch** - For on/off settings with a sliding indicator
- **Checkbox** - For multiple selection scenarios
- **Radio Group** - For single selection from multiple options
- **Button** - For action-based interactions